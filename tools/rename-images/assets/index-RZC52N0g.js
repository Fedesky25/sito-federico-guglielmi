var Mn=Object.defineProperty;var Pn=(e,t,n)=>t in e?Mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nt=(e,t,n)=>(Pn(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function G(){}const kn=e=>e;function tn(e){return e()}function Nt(){return Object.create(null)}function Q(e){e.forEach(tn)}function De(e){return typeof e=="function"}function ht(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Se;function xt(e,t){return e===t?!0:(Se||(Se=document.createElement("a")),Se.href=t,e===Se.href)}function Fn(e){return Object.keys(e).length===0}function nn(e){return e&&De(e.destroy)?e.destroy:G}const rn=typeof window<"u";let Gn=rn?()=>window.performance.now():()=>Date.now(),pt=rn?e=>requestAnimationFrame(e):G;const ge=new Set;function on(e){ge.forEach(t=>{t.c(e)||(ge.delete(t),t.f())}),ge.size!==0&&pt(on)}function Bn(e){let t;return ge.size===0&&pt(on),{promise:new Promise(n=>{ge.add(t={c:e,f:n})}),abort(){ge.delete(t)}}}const zn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function D(e,t){e.appendChild(t)}function sn(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Un(e){const t=I("style");return t.textContent="/* empty */",Zn(sn(e),t),t.sheet}function Zn(e,t){return D(e.head||e,t),t.sheet}function Z(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode&&e.parentNode.removeChild(e)}function I(e){return document.createElement(e)}function X(e){return document.createTextNode(e)}function J(){return X(" ")}function ne(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Wn(e){return Array.from(e.childNodes)}function Ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function St(e,t){e.value=t??""}function Lt(e,t,n){e.classList.toggle(t,!!n)}const Fe=new Map;let Ge=0;function Hn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Yn(e,t){const n={stylesheet:Un(t),rules:{}};return Fe.set(e,n),n}function Vn(e,t,n,i,r,o,a,u=0){const c=16.666/i;let g=`{
`;for(let _=0;_<=1;_+=c){const v=t+(n-t)*o(_);g+=_*100+`%{${a(v,1-v)}}
`}const s=g+`100% {${a(n,1-n)}}
}`,f=`__svelte_${Hn(s)}_${u}`,l=sn(e),{stylesheet:d,rules:h}=Fe.get(l)||Yn(l,e);h[f]||(h[f]=!0,d.insertRule(`@keyframes ${f} ${s}`,d.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${f} ${i}ms linear ${r}ms 1 both`,Ge+=1,f}function jn(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),r=n.length-i.length;r&&(e.style.animation=i.join(", "),Ge-=r,Ge||qn())}function qn(){pt(()=>{Ge||(Fe.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&P(t)}),Fe.clear())})}function ln(e,t,n,i){if(!t)return G;const r=e.getBoundingClientRect();if(t.left===r.left&&t.right===r.right&&t.top===r.top&&t.bottom===r.bottom)return G;const{delay:o=0,duration:a=300,easing:u=kn,start:c=Gn()+o,end:g=c+a,tick:s=G,css:f}=n(e,{from:t,to:r},i);let l=!0,d=!1,h;function p(){f&&(h=Vn(e,0,1,a,o,u,f)),o||(d=!0)}function _(){f&&jn(e,h),l=!1}return Bn(v=>{if(!d&&v>=c&&(d=!0),d&&v>=g&&(s(1,0),_()),!l)return!1;if(d){const O=v-c,T=0+1*u(O/a);s(T,1-T)}return!0}),p(),s(0,1),_}function an(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:i}=t,r=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=i,Kn(e,r)}}function Kn(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const i=getComputedStyle(e),r=i.transform==="none"?"":i.transform;e.style.transform=`${r} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let mt;function be(e){mt=e}const de=[],ot=[];let he=[];const $t=[],Xn=Promise.resolve();let st=!1;function Jn(){st||(st=!0,Xn.then(cn))}function lt(e){he.push(e)}const it=new Set;let fe=0;function cn(){if(fe!==0)return;const e=mt;do{try{for(;fe<de.length;){const t=de[fe];fe++,be(t),Qn(t.$$)}}catch(t){throw de.length=0,fe=0,t}for(be(null),de.length=0,fe=0;ot.length;)ot.pop()();for(let t=0;t<he.length;t+=1){const n=he[t];it.has(n)||(it.add(n),n())}he.length=0}while(de.length);for(;$t.length;)$t.pop()();st=!1,it.clear(),be(e)}function Qn(e){if(e.fragment!==null){e.update(),Q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(lt)}}function ei(e){const t=[],n=[];he.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),he=t}const Me=new Set;let le;function ve(){le={r:0,c:[],p:le}}function Oe(){le.r||Q(le.c),le=le.p}function F(e,t){e&&e.i&&(Me.delete(e),e.i(t))}function V(e,t,n,i){if(e&&e.o){if(Me.has(e))return;Me.add(e),le.c.push(()=>{Me.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function me(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function un(e,t){V(e,1,1,()=>{t.delete(e.key)})}function fn(e,t){e.f(),un(e,t)}function _t(e,t,n,i,r,o,a,u,c,g,s,f){let l=e.length,d=o.length,h=l;const p={};for(;h--;)p[e[h].key]=h;const _=[],v=new Map,O=new Map,T=[];for(h=d;h--;){const E=f(r,o,h),m=n(E);let w=a.get(m);w?i&&T.push(()=>w.p(E,t)):(w=g(m,E),w.c()),v.set(m,_[h]=w),m in p&&O.set(m,Math.abs(h-p[m]))}const R=new Set,N=new Set;function y(E){F(E,1),E.m(u,s),a.set(E.key,E),s=E.first,d--}for(;l&&d;){const E=_[d-1],m=e[l-1],w=E.key,ue=m.key;E===m?(s=E.first,l--,d--):v.has(ue)?!a.has(w)||R.has(w)?y(E):N.has(ue)?l--:O.get(w)>O.get(ue)?(N.add(w),y(E)):(R.add(ue),l--):(c(m,a),l--)}for(;l--;){const E=e[l];v.has(E.key)||c(E,a)}for(;d;)y(_[d-1]);return Q(T),_}function Et(e){e&&e.c()}function je(e,t,n){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),lt(()=>{const o=e.$$.on_mount.map(tn).filter(De);e.$$.on_destroy?e.$$.on_destroy.push(...o):Q(o),e.$$.on_mount=[]}),r.forEach(lt)}function qe(e,t){const n=e.$$;n.fragment!==null&&(ei(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ti(e,t){e.$$.dirty[0]===-1&&(de.push(e),Jn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function yt(e,t,n,i,r,o,a=null,u=[-1]){const c=mt;be(e);const g=e.$$={fragment:null,ctx:[],props:o,update:G,not_equal:r,bound:Nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Nt(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};a&&a(g.root);let s=!1;if(g.ctx=n?n(e,t.props||{},(f,l,...d)=>{const h=d.length?d[0]:l;return g.ctx&&r(g.ctx[f],g.ctx[f]=h)&&(!g.skip_bound&&g.bound[f]&&g.bound[f](h),s&&ti(e,f)),l}):[],g.update(),s=!0,Q(g.before_update),g.fragment=i?i(g.ctx):!1,t.target){if(t.hydrate){const f=Wn(t.target);g.fragment&&g.fragment.l(f),f.forEach(P)}else g.fragment&&g.fragment.c();t.intro&&F(e.$$.fragment),je(e,t.target,t.anchor),cn()}be(c)}class wt{constructor(){nt(this,"$$");nt(this,"$$set")}$destroy(){qe(this,1),this.$destroy=G}$on(t,n){if(!De(n))return G;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!Fn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ni="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ni);function ii(e){const t=e-1;return t*t*t+1}function dn(e,{from:t,to:n},i={}){const r=getComputedStyle(e),o=r.transform==="none"?"":r.transform,[a,u]=r.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*a/n.width-(n.left+a),g=t.top+t.height*u/n.height-(n.top+u),{delay:s=0,duration:f=d=>Math.sqrt(d)*120,easing:l=ii}=i;return{delay:s,duration:De(f)?f(Math.sqrt(c*c+g*g)):f,easing:l,css:(d,h)=>{const p=h*c,_=h*g,v=d+h*t.width/n.width,O=d+h*t.height/n.height;return`transform: ${o} translate(${p}px, ${_}px) scale(${v}, ${O});`}}}const ri="finalize",oi="consider";function _e(e,t,n){e.dispatchEvent(new CustomEvent(ri,{detail:{items:t,info:n}}))}function ie(e,t,n){e.dispatchEvent(new CustomEvent(oi,{detail:{items:t,info:n}}))}const Ke="draggedEntered",Ne="draggedLeft",Xe="draggedOverIndex",Dt="draggedLeftDocument",Be={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function si(e,t,n){e.dispatchEvent(new CustomEvent(Ke,{detail:{indexObj:t,draggedEl:n}}))}function li(e,t,n){e.dispatchEvent(new CustomEvent(Ne,{detail:{draggedEl:t,type:Be.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function ai(e,t){e.dispatchEvent(new CustomEvent(Ne,{detail:{draggedEl:t,type:Be.OUTSIDE_OF_ANY}}))}function ci(e,t,n){e.dispatchEvent(new CustomEvent(Xe,{detail:{indexObj:t,draggedEl:n}}))}function ui(e){window.dispatchEvent(new CustomEvent(Dt,{detail:{draggedEl:e}}))}const k={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Ke,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Xe,DRAGGED_LEFT:Ne,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},B={POINTER:"pointer",KEYBOARD:"keyboard"},Je="isDndShadowItem",Tt="data-is-dnd-shadow-item-internal",fi="data-is-dnd-shadow-item-hint",di="id:dnd-shadow-placeholder-0000",gi="dnd-action-dragged-el";let M="id",at=0;function gn(){at++}function hn(){if(at===0)throw new Error("Bug! trying to decrement when there are no dropzones");at--}const bt=typeof window>"u";function pn(e){let t;const n=e.getBoundingClientRect(),i=getComputedStyle(e),r=i.transform;if(r){let o,a,u,c;if(r.startsWith("matrix3d("))t=r.slice(9,-1).split(/, /),o=+t[0],a=+t[5],u=+t[12],c=+t[13];else if(r.startsWith("matrix("))t=r.slice(7,-1).split(/, /),o=+t[0],a=+t[3],u=+t[4],c=+t[5];else return n;const g=i.transformOrigin,s=n.x-u-(1-o)*parseFloat(g),f=n.y-c-(1-a)*parseFloat(g.slice(g.indexOf(" ")+1)),l=o?n.width/o:e.offsetWidth,d=a?n.height/a:e.offsetHeight;return{x:s,y:f,width:l,height:d,top:f,right:s+l,bottom:f+d,left:s}}else return n}function mn(e){const t=pn(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function vt(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function _n(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function hi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ot(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function Ae(e){return _n(vt(e))}function Ct(e,t){const n=Ae(e),i=mn(t);return Ot(n,i)}function pi(e,t){const n=Ae(e),i=Ae(t);return hi(n,i)}function mi(e){const t=vt(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function _i(e,t){const n=vt(t);return Ot(e,n)?{top:e.y-n.top,bottom:n.bottom-e.y,left:e.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-e.x}:null}let ae;function At(){ae=new Map}At();function Ei(e){ae.delete(e)}function yi(e){const t=Array.from(e.children).findIndex(n=>n.getAttribute(Tt));if(t>=0)return ae.has(e)||ae.set(e,new Map),ae.get(e).set(t,mn(e.children[t])),t}function wi(e,t){if(!Ct(e,t))return null;const n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};const i=yi(t);for(let a=0;a<n.length;a++)if(Ct(e,n[a])){const u=ae.has(t)&&ae.get(t).get(a);return u&&!Ot(Ae(e),u)?{index:i,isProximityBased:!1}:{index:a,isProximityBased:!1}}let r=Number.MAX_VALUE,o;for(let a=0;a<n.length;a++){const u=pi(e,n[a]);u<r&&(r=u,o=a)}return{index:o,isProximityBased:!0}}const Te=25;function En(){let e;function t(){e={directionObj:void 0,stepPx:0}}t();function n(o){const{directionObj:a,stepPx:u}=e;a&&(o.scrollBy(a.x*u,a.y*u),window.requestAnimationFrame(()=>n(o)))}function i(o){return Te-o}function r(o,a){if(!a)return!1;const u=_i(o,a);if(u===null)return t(),!1;const c=!!e.directionObj;let[g,s]=[!1,!1];return a.scrollHeight>a.clientHeight&&(u.bottom<Te?(g=!0,e.directionObj={x:0,y:1},e.stepPx=i(u.bottom)):u.top<Te&&(g=!0,e.directionObj={x:0,y:-1},e.stepPx=i(u.top)),!c&&g)||a.scrollWidth>a.clientWidth&&(u.right<Te?(s=!0,e.directionObj={x:1,y:0},e.stepPx=i(u.right)):u.left<Te&&(s=!0,e.directionObj={x:-1,y:0},e.stepPx=i(u.left)),!c&&s)?(n(a),!0):(t(),!1)}return{scrollIfNeeded:r,resetScrolling:t}}function Le(e){return JSON.stringify(e,null,2)}function Mt(e){if(!e)throw new Error("cannot get depth of a falsy node");return yn(e,0)}function yn(e,t=0){return e.parentElement?yn(e.parentElement,t+1):t-1}function Di(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!{}.hasOwnProperty.call(t,n)||t[n]!==e[n])return!1;return!0}function Ti(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const bi=200,Pt=10,{scrollIfNeeded:vi,resetScrolling:Oi}=En();let ct;function Ai(e,t,n=bi){let i,r,o=!1,a;const u=Array.from(t).sort((g,s)=>Mt(s)-Mt(g));function c(){const g=Ae(e),s=vi(g,i);if(!s&&a&&Math.abs(a.x-g.x)<Pt&&Math.abs(a.y-g.y)<Pt){ct=window.setTimeout(c,n);return}if(mi(e)){ui(e);return}a=g;let f=!1;for(const l of u){s&&Ei(i);const d=wi(e,l);if(d===null)continue;const{index:h}=d;f=!0,l!==i?(i&&li(i,e,l),si(l,d,e),i=l):h!==r&&(ci(l,d,e),r=h);break}!f&&o&&i?(ai(i,e),i=void 0,r=void 0,o=!1):o=!0,ct=window.setTimeout(c,n)}c()}function Ii(){clearTimeout(ct),Oi(),At()}const Ri=300;let ze;function Ue(e){const t=e.touches?e.touches[0]:e;ze={x:t.clientX,y:t.clientY}}const{scrollIfNeeded:Ni,resetScrolling:xi}=En();let wn;function Dn(){ze&&Ni(ze,document.documentElement)&&At(),wn=window.setTimeout(Dn,Ri)}function Si(){window.addEventListener("mousemove",Ue),window.addEventListener("touchmove",Ue),Dn()}function Li(){window.removeEventListener("mousemove",Ue),window.removeEventListener("touchmove",Ue),ze=void 0,window.clearTimeout(wn),xi()}function $i(e){const t=e.cloneNode(!0),n=[],i=e.tagName==="SELECT",r=i?[e]:[...e.querySelectorAll("select")];for(const u of r)n.push(u.value);if(r.length>0){const u=i?[t]:[...t.querySelectorAll("select")];for(let c=0;c<u.length;c++){const g=u[c],s=n[c],f=g.querySelector(`option[value="${s}"`);f&&f.setAttribute("selected",!0)}}const o=e.tagName==="CANVAS",a=o?[e]:[...e.querySelectorAll("canvas")];if(a.length>0){const u=o?[t]:[...t.querySelectorAll("canvas")];for(let c=0;c<u.length;c++){const g=a[c],s=u[c];s.width=g.width,s.height=g.height,s.getContext("2d").drawImage(g,0,0)}}return t}const Ie=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Ci={[Ie.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT]:!1};function Tn(e){if(!Ie[e])throw new Error(`Can't get non existing feature flag ${e}! Supported flags: ${Object.keys(Ie)}`);return Ci[e]}const Mi=.2;function re(e){return`${e} ${Mi}s ease`}function Pi(e,t){const n=e.getBoundingClientRect(),i=$i(e);bn(e,i),i.id=gi,i.style.position="fixed";let r=n.top,o=n.left;if(i.style.top=`${r}px`,i.style.left=`${o}px`,t){const a=_n(n);r-=a.y-t.y,o-=a.x-t.x,window.setTimeout(()=>{i.style.top=`${r}px`,i.style.left=`${o}px`},0)}return i.style.margin="0",i.style.boxSizing="border-box",i.style.height=`${n.height}px`,i.style.width=`${n.width}px`,i.style.transition=`${re("top")}, ${re("left")}, ${re("background-color")}, ${re("opacity")}, ${re("color")} `,window.setTimeout(()=>i.style.transition+=`, ${re("width")}, ${re("height")}`,0),i.style.zIndex="9999",i.style.cursor="grabbing",i}function ki(e){e.style.cursor="grab"}function Fi(e,t,n,i){bn(t,e);const r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=r.width-o.width,u=r.height-o.height;if(a||u){const c={left:(n-o.left)/o.width,top:(i-o.top)/o.height};Tn(Ie.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height=`${r.height}px`,e.style.width=`${r.width}px`),e.style.left=`${parseFloat(e.style.left)-c.left*a}px`,e.style.top=`${parseFloat(e.style.top)-c.top*u}px`}}function bn(e,t){const n=window.getComputedStyle(e);Array.from(n).filter(i=>i.startsWith("background")||i.startsWith("padding")||i.startsWith("font")||i.startsWith("text")||i.startsWith("align")||i.startsWith("justify")||i.startsWith("display")||i.startsWith("flex")||i.startsWith("border")||i==="opacity"||i==="color"||i==="list-style-type"||Tn(Ie.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(i==="width"||i==="height")).forEach(i=>t.style.setProperty(i,n.getPropertyValue(i),n.getPropertyPriority(i)))}function Gi(e,t){e.draggable=!1,e.ondragstart=()=>!1,t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function vn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Bi(e){e.style.visibility="hidden",e.setAttribute(Tt,"true")}function zi(e){e.style.visibility="",e.removeAttribute(Tt)}function Pe(e,t=()=>{},n=()=>[]){e.forEach(i=>{const r=t(i);Object.keys(r).forEach(o=>{i.style[o]=r[o]}),n(i).forEach(o=>i.classList.add(o))})}function Ze(e,t=()=>{},n=()=>[]){e.forEach(i=>{const r=t(i);Object.keys(r).forEach(o=>{i.style[o]=""}),n(i).forEach(o=>i.classList.contains(o)&&i.classList.remove(o))})}function Ui(e){const t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");const n=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=n}}const Zi="--any--",Wi=100,Hi=20,kt=3,Ft={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Gt="data-is-dnd-original-dragged-item";let q,$,U,Qe,A,et,Ee,z,ee,W,se=!1,It=!1,Rt,xe=!1,ke=[];const j=new Map,S=new Map,rt=new WeakMap;function Yi(e,t){j.has(t)||j.set(t,new Set),j.get(t).has(e)||(j.get(t).add(e),gn())}function Bt(e,t){j.get(t).delete(e),hn(),j.get(t).size===0&&j.delete(t)}function Vi(){Si();const e=j.get(Qe);for(const i of e)i.addEventListener(Ke,On),i.addEventListener(Ne,An),i.addEventListener(Xe,In);window.addEventListener(Dt,ye);const t=Math.max(...Array.from(e.keys()).map(i=>S.get(i).dropAnimationDurationMs)),n=t===0?Hi:Math.max(t,Wi);Ai($,e,n*1.07)}function ji(){Li();const e=j.get(Qe);for(const t of e)t.removeEventListener(Ke,On),t.removeEventListener(Ne,An),t.removeEventListener(Xe,In);window.removeEventListener(Dt,ye),Ii()}function tt(e){return e.findIndex(t=>!!t[Je])}function On(e){let{items:t,dropFromOthersDisabled:n}=S.get(e.currentTarget);if(n&&e.currentTarget!==A)return;if(xe=!1,t=t.filter(a=>a[M]!==Ee[M]),A!==e.currentTarget){const u=S.get(A).items.filter(c=>!c[Je]);ie(A,u,{trigger:k.DRAGGED_ENTERED_ANOTHER,id:U[M],source:B.POINTER})}const{index:i,isProximityBased:r}=e.detail.indexObj,o=r&&i===e.currentTarget.children.length-1?i+1:i;z=e.currentTarget,t.splice(o,0,Ee),ie(e.currentTarget,t,{trigger:k.DRAGGED_ENTERED,id:U[M],source:B.POINTER})}function An(e){if(!se)return;const{items:t,dropFromOthersDisabled:n}=S.get(e.currentTarget);if(n&&e.currentTarget!==A&&e.currentTarget!==z)return;const i=tt(t),r=t.splice(i,1)[0];z=void 0;const{type:o,theOtherDz:a}=e.detail;if(o===Be.OUTSIDE_OF_ANY||o===Be.LEFT_FOR_ANOTHER&&a!==A&&S.get(a).dropFromOthersDisabled){xe=!0,z=A;const u=S.get(A).items;u.splice(et,0,r),ie(A,u,{trigger:k.DRAGGED_LEFT_ALL,id:U[M],source:B.POINTER})}ie(e.currentTarget,t,{trigger:k.DRAGGED_LEFT,id:U[M],source:B.POINTER})}function In(e){const{items:t,dropFromOthersDisabled:n}=S.get(e.currentTarget);if(n&&e.currentTarget!==A)return;xe=!1;const{index:i}=e.detail.indexObj,r=tt(t);t.splice(r,1),t.splice(i,0,Ee),ie(e.currentTarget,t,{trigger:k.DRAGGED_OVER_INDEX,id:U[M],source:B.POINTER})}function We(e){e.preventDefault();const t=e.touches?e.touches[0]:e;W={x:t.clientX,y:t.clientY},$.style.transform=`translate3d(${W.x-ee.x}px, ${W.y-ee.y}px, 0)`}function ye(){It=!0,window.removeEventListener("mousemove",We),window.removeEventListener("touchmove",We),window.removeEventListener("mouseup",ye),window.removeEventListener("touchend",ye),ji(),ki($),z||(z=A);let{items:e,type:t}=S.get(z);Ze(j.get(t),r=>S.get(r).dropTargetStyle,r=>S.get(r).dropTargetClasses);let n=tt(e);n===-1&&(n=et),e=e.map(r=>r[Je]?U:r);function i(){Rt(),_e(z,e,{trigger:xe?k.DROPPED_OUTSIDE_OF_ANY:k.DROPPED_INTO_ZONE,id:U[M],source:B.POINTER}),z!==A&&_e(A,S.get(A).items,{trigger:k.DROPPED_INTO_ANOTHER,id:U[M],source:B.POINTER}),zi(z.children[n]),Xi()}qi(n,i)}function qi(e,t){const n=pn(z.children[e]),i={x:n.left-parseFloat($.style.left),y:n.top-parseFloat($.style.top)},{dropAnimationDurationMs:r}=S.get(z),o=`transform ${r}ms ease`;$.style.transition=$.style.transition?$.style.transition+","+o:o,$.style.transform=`translate3d(${i.x}px, ${i.y}px, 0)`,window.setTimeout(t,r)}function Ki(e,t){ke.push({dz:e,destroy:t}),window.requestAnimationFrame(()=>{vn(e),document.body.appendChild(e)})}function Xi(){$.remove(),q.remove(),ke.length&&(ke.forEach(({dz:e,destroy:t})=>{t(),e.remove()}),ke=[]),$=void 0,q=void 0,U=void 0,Qe=void 0,A=void 0,et=void 0,Ee=void 0,z=void 0,ee=void 0,W=void 0,se=!1,It=!1,Rt=void 0,xe=!1}function Ji(e,t){let n=!1;const i={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ft,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let r=new Map;function o(){window.addEventListener("mousemove",c,{passive:!1}),window.addEventListener("touchmove",c,{passive:!1,capture:!1}),window.addEventListener("mouseup",u,{passive:!1}),window.addEventListener("touchend",u,{passive:!1})}function a(){window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u)}function u(){a(),q=void 0,ee=void 0,W=void 0}function c(l){l.preventDefault();const d=l.touches?l.touches[0]:l;W={x:d.clientX,y:d.clientY},(Math.abs(W.x-ee.x)>=kt||Math.abs(W.y-ee.y)>=kt)&&(a(),s())}function g(l){if(l.target!==l.currentTarget&&(l.target.value!==void 0||l.target.isContentEditable)||l.button||se)return;l.stopPropagation();const d=l.touches?l.touches[0]:l;ee={x:d.clientX,y:d.clientY},W={...ee},q=l.currentTarget,o()}function s(){se=!0;const l=r.get(q);et=l,A=q.parentElement;const d=A.closest("dialog")||A.getRootNode(),h=d.body||d,{items:p,type:_,centreDraggedOnCursor:v}=i;U={...p[l]},Qe=_,Ee={...U,[Je]:!0,[M]:di},$=Pi(q,v&&W),q.setAttribute(Gt,!0);function O(){$.parentElement?window.requestAnimationFrame(O):(h.appendChild($),$.focus(),Vi(),vn(q),h.appendChild(q))}window.requestAnimationFrame(O),Pe(Array.from(j.get(i.type)).filter(T=>T===A||!S.get(T).dropFromOthersDisabled),T=>S.get(T).dropTargetStyle,T=>S.get(T).dropTargetClasses),p.splice(l,1,Ee),Rt=Ui(A),ie(A,p,{trigger:k.DRAG_STARTED,id:U[M],source:B.POINTER}),window.addEventListener("mousemove",We,{passive:!1}),window.addEventListener("touchmove",We,{passive:!1,capture:!1}),window.addEventListener("mouseup",ye,{passive:!1}),window.addEventListener("touchend",ye,{passive:!1})}function f({items:l=void 0,flipDurationMs:d=0,type:h=Zi,dragDisabled:p=!1,morphDisabled:_=!1,dropFromOthersDisabled:v=!1,dropTargetStyle:O=Ft,dropTargetClasses:T=[],transformDraggedElement:R=()=>{},centreDraggedOnCursor:N=!1}){i.dropAnimationDurationMs=d,i.type&&h!==i.type&&Bt(e,i.type),i.type=h,i.items=[...l],i.dragDisabled=p,i.morphDisabled=_,i.transformDraggedElement=R,i.centreDraggedOnCursor=N,n&&se&&!It&&(!Di(O,i.dropTargetStyle)||!Ti(T,i.dropTargetClasses))&&(Ze([e],()=>i.dropTargetStyle,()=>T),Pe([e],()=>O,()=>T)),i.dropTargetStyle=O,i.dropTargetClasses=[...T];function y(m,w){return S.get(m)?S.get(m)[w]:i[w]}n&&se&&i.dropFromOthersDisabled!==v&&(v?Ze([e],m=>y(m,"dropTargetStyle"),m=>y(m,"dropTargetClasses")):Pe([e],m=>y(m,"dropTargetStyle"),m=>y(m,"dropTargetClasses"))),i.dropFromOthersDisabled=v,S.set(e,i),Yi(e,h);const E=tt(i.items);for(let m=0;m<e.children.length;m++){const w=e.children[m];if(Gi(w,p),m===E){i.transformDraggedElement($,U,m),_||Fi($,w,W.x,W.y),Bi(w);continue}w.removeEventListener("mousedown",rt.get(w)),w.removeEventListener("touchstart",rt.get(w)),p||(w.addEventListener("mousedown",g),w.addEventListener("touchstart",g),rt.set(w,g)),r.set(w,m),n||(n=!0)}}return f(t),{update:l=>{f(l)},destroy:()=>{function l(){Bt(e,S.get(e).type),S.delete(e)}se&&!e.closest(`[${Gt}]`)?Ki(e,l):l()}}}const ut={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Rn={[ut.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[ut.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},Qi="dnd-action-aria-alert";let x;function ft(){x||(x=document.createElement("div"),function(){x.id=Qi,x.style.position="fixed",x.style.bottom="0",x.style.left="0",x.style.zIndex="-5",x.style.opacity="0",x.style.height="0",x.style.width="0",x.setAttribute("role","alert")}(),document.body.prepend(x),Object.entries(Rn).forEach(([e,t])=>document.body.prepend(nr(e,t))))}function er(){return bt?null:(document.readyState==="complete"?ft():window.addEventListener("DOMContentLoaded",ft),{...ut})}function tr(){bt||!x||(Object.keys(Rn).forEach(e=>{var t;return(t=document.getElementById(e))==null?void 0:t.remove()}),x.remove(),x=void 0)}function nr(e,t){const n=document.createElement("div");return n.id=e,n.innerHTML=`<p>${t}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function pe(e){if(bt)return;x||ft(),x.innerHTML="";const t=document.createTextNode(e);x.appendChild(t),x.style.display="none",x.style.display="inline"}const ir="--any--",zt={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let H=!1,dt,C,ce="",oe,K,te="";const He=new WeakSet,Ut=new WeakMap,Zt=new WeakMap,gt=new Map,L=new Map,Y=new Map;let Ye;function rr(e,t){Y.size===0&&(Ye=er(),window.addEventListener("keydown",Nn),window.addEventListener("click",xn)),Y.has(t)||Y.set(t,new Set),Y.get(t).has(e)||(Y.get(t).add(e),gn())}function Wt(e,t){C===e&&Re(),Y.get(t).delete(e),hn(),Y.get(t).size===0&&Y.delete(t),Y.size===0&&(window.removeEventListener("keydown",Nn),window.removeEventListener("click",xn),Ye=void 0,tr())}function Nn(e){if(H)switch(e.key){case"Escape":{Re();break}}}function xn(){H&&(He.has(document.activeElement)||Re())}function or(e){if(!H)return;const t=e.currentTarget;if(t===C)return;ce=t.getAttribute("aria-label")||"";const{items:n}=L.get(C),i=n.find(g=>g[M]===K),r=n.indexOf(i),o=n.splice(r,1)[0],{items:a,autoAriaDisabled:u}=L.get(t);t.getBoundingClientRect().top<C.getBoundingClientRect().top||t.getBoundingClientRect().left<C.getBoundingClientRect().left?(a.push(o),u||pe(`Moved item ${te} to the end of the list ${ce}`)):(a.unshift(o),u||pe(`Moved item ${te} to the beginning of the list ${ce}`)),_e(C,n,{trigger:k.DROPPED_INTO_ANOTHER,id:K,source:B.KEYBOARD}),_e(t,a,{trigger:k.DROPPED_INTO_ZONE,id:K,source:B.KEYBOARD}),C=t}function Sn(){gt.forEach(({update:e},t)=>e(L.get(t)))}function Re(e=!0){L.get(C).autoAriaDisabled||pe(`Stopped dragging item ${te}`),He.has(document.activeElement)&&document.activeElement.blur(),e&&ie(C,L.get(C).items,{trigger:k.DRAG_STOPPED,id:K,source:B.KEYBOARD}),Ze(Y.get(dt),t=>L.get(t).dropTargetStyle,t=>L.get(t).dropTargetClasses),oe=null,K=null,te="",dt=null,C=null,ce="",H=!1,Sn()}function sr(e,t){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:zt,dropTargetClasses:[],autoAriaDisabled:!1};function i(s,f,l){s.length<=1||s.splice(l,1,s.splice(f,1,s[l])[0])}function r(s){switch(s.key){case"Enter":case" ":{if((s.target.disabled!==void 0||s.target.href||s.target.isContentEditable)&&!He.has(s.target))return;s.preventDefault(),s.stopPropagation(),H?Re():o(s);break}case"ArrowDown":case"ArrowRight":{if(!H)return;s.preventDefault(),s.stopPropagation();const{items:f}=L.get(e),l=Array.from(e.children),d=l.indexOf(s.currentTarget);d<l.length-1&&(n.autoAriaDisabled||pe(`Moved item ${te} to position ${d+2} in the list ${ce}`),i(f,d,d+1),_e(e,f,{trigger:k.DROPPED_INTO_ZONE,id:K,source:B.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!H)return;s.preventDefault(),s.stopPropagation();const{items:f}=L.get(e),d=Array.from(e.children).indexOf(s.currentTarget);d>0&&(n.autoAriaDisabled||pe(`Moved item ${te} to position ${d} in the list ${ce}`),i(f,d,d-1),_e(e,f,{trigger:k.DROPPED_INTO_ZONE,id:K,source:B.KEYBOARD}));break}}}function o(s){u(s.currentTarget),C=e,dt=n.type,H=!0;const f=Array.from(Y.get(n.type)).filter(l=>l===C||!L.get(l).dropFromOthersDisabled);if(Pe(f,l=>L.get(l).dropTargetStyle,l=>L.get(l).dropTargetClasses),!n.autoAriaDisabled){let l=`Started dragging item ${te}. Use the arrow keys to move it within its list ${ce}`;f.length>1&&(l+=", or tab to another list in order to move the item into it"),pe(l)}ie(e,L.get(e).items,{trigger:k.DRAG_STARTED,id:K,source:B.KEYBOARD}),Sn()}function a(s){H&&s.currentTarget!==oe&&(s.stopPropagation(),Re(!1),o(s))}function u(s){const{items:f}=L.get(e),l=Array.from(e.children),d=l.indexOf(s);oe=s,oe.tabIndex=n.zoneItemTabIndex,K=f[d][M],te=l[d].getAttribute("aria-label")||""}function c({items:s=[],type:f=ir,dragDisabled:l=!1,zoneTabIndex:d=0,zoneItemTabIndex:h=0,dropFromOthersDisabled:p=!1,dropTargetStyle:_=zt,dropTargetClasses:v=[],autoAriaDisabled:O=!1}){n.items=[...s],n.dragDisabled=l,n.dropFromOthersDisabled=p,n.zoneTabIndex=d,n.zoneItemTabIndex=h,n.dropTargetStyle=_,n.dropTargetClasses=v,n.autoAriaDisabled=O,n.type&&f!==n.type&&Wt(e,n.type),n.type=f,rr(e,f),O||(e.setAttribute("aria-disabled",l),e.setAttribute("role","list"),e.setAttribute("aria-describedby",l?Ye.DND_ZONE_DRAG_DISABLED:Ye.DND_ZONE_ACTIVE)),L.set(e,n),H?e.tabIndex=e===C||oe.contains(e)||n.dropFromOthersDisabled||C&&n.type!==L.get(C).type?-1:0:e.tabIndex=n.zoneTabIndex,e.addEventListener("focus",or);for(let T=0;T<e.children.length;T++){const R=e.children[T];He.add(R),R.tabIndex=H?-1:n.zoneItemTabIndex,O||R.setAttribute("role","listitem"),R.removeEventListener("keydown",Ut.get(R)),R.removeEventListener("click",Zt.get(R)),l||(R.addEventListener("keydown",r),Ut.set(R,r),R.addEventListener("click",a),Zt.set(R,a)),H&&n.items[T][M]===K&&(oe=R,oe.tabIndex=n.zoneItemTabIndex,R.focus())}}c(t);const g={update:s=>{c(s)},destroy:()=>{Wt(e,n.type),L.delete(e),gt.delete(e)}};return gt.set(e,g),g}function Ln(e,t){if(lr(e))return{update:()=>{},destroy:()=>{}};Ht(t);const n=Ji(e,t),i=sr(e,t);return{update:r=>{Ht(r),n.update(r),i.update(r)},destroy:()=>{n.destroy(),i.destroy()}}}function lr(e){return!!e.closest(`[${fi}="true"]`)}function Ht(e){const{items:t,flipDurationMs:n,type:i,dragDisabled:r,morphDisabled:o,dropFromOthersDisabled:a,zoneTabIndex:u,zoneItemTabIndex:c,dropTargetStyle:g,dropTargetClasses:s,transformDraggedElement:f,autoAriaDisabled:l,centreDraggedOnCursor:d,...h}=e;if(Object.keys(h).length>0&&console.warn("dndzone will ignore unknown options",h),!t)throw new Error("no 'items' key provided to dndzone");const p=t.find(_=>!{}.hasOwnProperty.call(_,M));if(p)throw new Error(`missing '${M}' property for item ${Le(p)}`);if(s&&!Array.isArray(s))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof s}, ${Le(s)}`);if(u&&!Yt(u))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof u}, ${Le(u)}`);if(c&&!Yt(c))throw new Error(`zoneItemTabIndex should be a number but instead it is a ${typeof c}, ${Le(c)}`)}function Yt(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}const we=350,Ve={outline:"2px dashed #52b7bd"};function ar(e){let t,n,i,r,o,a;return{c(){t=I("div"),n=I("img"),r=J(),o=I("span"),a=X(e[1]),xt(n.src,i=e[0])||b(n,"src",i),b(n,"alt",e[1]),b(n,"class","svelte-16gbya"),b(o,"class","svelte-16gbya"),b(t,"class","svelte-16gbya")},m(u,c){Z(u,t,c),D(t,n),D(t,r),D(t,o),D(o,a)},p(u,[c]){c&1&&!xt(n.src,i=u[0])&&b(n,"src",i),c&2&&b(n,"alt",u[1]),c&2&&Ce(a,u[1])},i:G,o:G,d(u){u&&P(t)}}}function cr(e,t,n){let{src:i}=t,{name:r}=t;return e.$$set=o=>{"src"in o&&n(0,i=o.src),"name"in o&&n(1,r=o.name)},[i,r]}class $n extends wt{constructor(t){super(),yt(this,t,cr,ar,ht,{src:0,name:1})}}function Vt(e,t,n){const i=e.slice();return i[7]=t[n],i}function jt(e,t){let n,i,r,o,a=G,u;return i=new $n({props:{src:t[7].url,name:t[7].handle.name}}),{key:e,first:null,c(){n=I("li"),Et(i.$$.fragment),r=J(),b(n,"class","svelte-1gfaii6"),this.first=n},m(c,g){Z(c,n,g),je(i,n,null),D(n,r),u=!0},p(c,g){t=c;const s={};g&1&&(s.src=t[7].url),g&1&&(s.name=t[7].handle.name),i.$set(s)},r(){o=n.getBoundingClientRect()},f(){an(n),a()},a(){a(),a=ln(n,o,dn,{duration:we})},i(c){u||(F(i.$$.fragment,c),u=!0)},o(c){V(i.$$.fragment,c),u=!1},d(c){c&&P(n),qe(i)}}}function ur(e){let t,n,i,r,o=[],a=new Map,u,c,g,s,f=me(e[0]);const l=d=>d[7].id;for(let d=0;d<f.length;d+=1){let h=Vt(e,f,d),p=l(h);a.set(p,o[d]=jt(p,h))}return{c(){t=I("section"),n=I("input"),i=J(),r=I("ul");for(let d=0;d<o.length;d+=1)o[d].c();b(n,"type","text"),b(n,"placeholder","Group name"),b(n,"class","svelte-1gfaii6"),Lt(n,"missing",e[2]&&!e[1]),b(r,"class","svelte-1gfaii6"),b(t,"class","svelte-1gfaii6")},m(d,h){Z(d,t,h),D(t,n),St(n,e[1]),D(t,i),D(t,r);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(r,null);c=!0,g||(s=[ne(n,"input",e[6]),nn(u=Ln.call(null,r,{items:e[0],flipDurationMs:we,dropTargetStyle:Ve})),ne(r,"consider",e[3]),ne(r,"finalize",e[3])],g=!0)},p(d,[h]){if(h&2&&n.value!==d[1]&&St(n,d[1]),(!c||h&6)&&Lt(n,"missing",d[2]&&!d[1]),h&1){f=me(d[0]),ve();for(let p=0;p<o.length;p+=1)o[p].r();o=_t(o,h,l,1,d,f,a,r,fn,jt,null,Vt);for(let p=0;p<o.length;p+=1)o[p].a();Oe()}u&&De(u.update)&&h&1&&u.update.call(null,{items:d[0],flipDurationMs:we,dropTargetStyle:Ve})},i(d){if(!c){for(let h=0;h<f.length;h+=1)F(o[h]);c=!0}},o(d){for(let h=0;h<o.length;h+=1)V(o[h]);c=!1},d(d){d&&P(t);for(let h=0;h<o.length;h+=1)o[h].d();g=!1,Q(s)}}}function fr(e){const t=e.lastIndexOf(".");return t===-1?"":e.slice(t)}function dr(e,t,n){let i=[],r="",o=!1;function a(){return!i.length||r?!0:(n(2,o=!0),!1)}async function u(){if(!i.length)return!0;if(!r)return n(2,o=!0),!1;try{return await Promise.all(i.map((s,f)=>s.handle.move(`${r}-${(f+1).toFixed(0).padStart(3,"0")}${fr(s.handle.name)}`))),!0}catch(s){return console.error(s),!1}}function c(s){n(0,i=s.detail.items)}function g(){r=this.value,n(1,r)}return[i,r,o,c,a,u,g]}class gr extends wt{constructor(t){super(),yt(this,t,dr,ur,ht,{validate:4,rename:5})}get validate(){return this.$$.ctx[4]}get rename(){return this.$$.ctx[5]}}function $e(e){return new Worker("./assets/worker-6OE5c7dz.js",{name:e==null?void 0:e.name})}const{Map:Cn}=zn;function qt(e,t,n){const i=e.slice();return i[18]=t[n],i[19]=t,i[20]=n,i}function Kt(e,t,n){const i=e.slice();return i[21]=t[n],i}function hr(e){let t,n,i,r,o,a,u=(e[2]/e[1]*100).toFixed(1)+"",c,g;return{c(){t=I("p"),n=X("Loading "),i=X(e[2]),r=X("/"),o=X(e[1]),a=X(" images ("),c=X(u),g=X("%)"),b(t,"class","loading svelte-10pfh88")},m(s,f){Z(s,t,f),D(t,n),D(t,i),D(t,r),D(t,o),D(t,a),D(t,c),D(t,g)},p(s,f){f&4&&Ce(i,s[2]),f&2&&Ce(o,s[1]),f&6&&u!==(u=(s[2]/s[1]*100).toFixed(1)+"")&&Ce(c,u)},d(s){s&&P(t)}}}function pr(e){let t,n,i;return{c(){t=I("button"),t.textContent="Choose folder",b(t,"class","btn open")},m(r,o){Z(r,t,o),n||(i=ne(t,"click",e[5]),n=!0)},p:G,d(r){r&&P(t),n=!1,i()}}}function mr(e){let t;return{c(){t=I("p"),t.innerHTML='Experimental fetaures were not enabled: please go to <a href="chrome://flags/#enable-experimental-web-platform-features" target="_blank">chrome://flags/#enable-experimental-web-platform-features</a>, enable them, and reload this page. Note that you need to be on a recent version of a chromium-based browser.'},m(n,i){Z(n,t,i)},p:G,d(n){n&&P(t)}}}function Xt(e){let t,n,i=[],r=new Cn,o,a,u,c,g=me(e[3]);const s=f=>f[21].id;for(let f=0;f<g.length;f+=1){let l=Kt(e,g,f),d=s(l);r.set(d,i[f]=Jt(d,l))}return{c(){t=I("div"),n=I("ul");for(let f=0;f<i.length;f+=1)i[f].c();b(n,"class","svelte-10pfh88"),b(t,"class","sticky svelte-10pfh88")},m(f,l){Z(f,t,l),D(t,n);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(n,null);a=!0,u||(c=[nn(o=Ln.call(null,n,{items:e[3],flipDurationMs:we,dropTargetStyle:Ve})),ne(n,"consider",e[6]),ne(n,"finalize",e[6])],u=!0)},p(f,l){if(l&8){g=me(f[3]),ve();for(let d=0;d<i.length;d+=1)i[d].r();i=_t(i,l,s,1,f,g,r,n,fn,Jt,null,Kt);for(let d=0;d<i.length;d+=1)i[d].a();Oe()}o&&De(o.update)&&l&8&&o.update.call(null,{items:f[3],flipDurationMs:we,dropTargetStyle:Ve})},i(f){if(!a){for(let l=0;l<g.length;l+=1)F(i[l]);a=!0}},o(f){for(let l=0;l<i.length;l+=1)V(i[l]);a=!1},d(f){f&&P(t);for(let l=0;l<i.length;l+=1)i[l].d();u=!1,Q(c)}}}function Jt(e,t){let n,i,r,o,a=G,u;return i=new $n({props:{src:t[21].url,name:t[21].handle.name}}),{key:e,first:null,c(){n=I("li"),Et(i.$$.fragment),r=J(),b(n,"class","svelte-10pfh88"),this.first=n},m(c,g){Z(c,n,g),je(i,n,null),D(n,r),u=!0},p(c,g){t=c;const s={};g&8&&(s.src=t[21].url),g&8&&(s.name=t[21].handle.name),i.$set(s)},r(){o=n.getBoundingClientRect()},f(){an(n),a()},a(){a(),a=ln(n,o,dn,{duration:we})},i(c){u||(F(i.$$.fragment,c),u=!0)},o(c){V(i.$$.fragment,c),u=!1},d(c){c&&P(n),qe(i)}}}function Qt(e){let t,n=[],i=new Cn,r,o,a,u,c,g,s,f,l=me(e[4]);const d=h=>h[18].id;for(let h=0;h<l.length;h+=1){let p=qt(e,l,h),_=d(p);i.set(_,n[h]=en(_,p))}return{c(){t=I("div");for(let h=0;h<n.length;h+=1)n[h].c();r=J(),o=I("div"),a=I("button"),a.textContent="Add group",u=J(),c=I("button"),c.textContent="Rename",b(a,"class","btn"),b(o,"class","skeleton svelte-10pfh88"),b(t,"class","bins svelte-10pfh88"),b(c,"class","btn center svelte-10pfh88")},m(h,p){Z(h,t,p);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(t,null);D(t,r),D(t,o),D(o,a),Z(h,u,p),Z(h,c,p),g=!0,s||(f=[ne(a,"click",e[7]),ne(c,"click",e[8])],s=!0)},p(h,p){p&16&&(l=me(h[4]),ve(),n=_t(n,p,d,1,h,l,i,t,un,en,r,qt),Oe())},i(h){if(!g){for(let p=0;p<l.length;p+=1)F(n[p]);g=!0}},o(h){for(let p=0;p<n.length;p+=1)V(n[p]);g=!1},d(h){h&&(P(t),P(u),P(c));for(let p=0;p<n.length;p+=1)n[p].d();s=!1,Q(f)}}}function en(e,t){let n,i,r=t[19],o=t[20],a;const u=()=>t[9](i,r,o),c=()=>t[9](null,r,o);let g={};return i=new gr({props:g}),u(),{key:e,first:null,c(){n=I("div"),Et(i.$$.fragment),this.first=n},m(s,f){Z(s,n,f),je(i,n,null),a=!0},p(s,f){t=s,(r!==t[19]||o!==t[20])&&(c(),r=t[19],o=t[20],u());const l={};i.$set(l)},i(s){a||(F(i.$$.fragment,s),a=!0)},o(s){V(i.$$.fragment,s),a=!1},d(s){s&&P(n),c(),qe(i)}}}function _r(e){let t,n,i,r,o,a;function u(l,d){if(!window.showDirectoryPicker)return mr;if(l[0]===0)return pr;if(l[0]===1)return hr}let c=u(e),g=c&&c(e),s=(e[0]===1||e[0]===2)&&Xt(e),f=e[0]===2&&Qt(e);return{c(){t=I("main"),n=I("h1"),n.textContent="Rename images",i=J(),g&&g.c(),r=J(),s&&s.c(),o=J(),f&&f.c(),b(n,"class","svelte-10pfh88")},m(l,d){Z(l,t,d),D(t,n),D(t,i),g&&g.m(t,null),D(t,r),s&&s.m(t,null),D(t,o),f&&f.m(t,null),a=!0},p(l,[d]){c===(c=u(l))&&g?g.p(l,d):(g&&g.d(1),g=c&&c(l),g&&(g.c(),g.m(t,r))),l[0]===1||l[0]===2?s?(s.p(l,d),d&1&&F(s,1)):(s=Xt(l),s.c(),F(s,1),s.m(t,o)):s&&(ve(),V(s,1,1,()=>{s=null}),Oe()),l[0]===2?f?(f.p(l,d),d&1&&F(f,1)):(f=Qt(l),f.c(),F(f,1),f.m(t,null)):f&&(ve(),V(f,1,1,()=>{f=null}),Oe())},i(l){a||(F(s),F(f),a=!0)},o(l){V(s),V(f),a=!1},d(l){l&&P(t),g&&g.d(),s&&s.d(),f&&f.d()}}}function Er(e,t,n){const i=[new $e,new $e,new $e,new $e];i.forEach(N=>N.onmessage=f);const r=new Map;let o=0,a=[],u=0,c=0,g=[],s=1;async function f(N){const y=new Blob([N.data.buffer],{type:N.data.type}),E=r.get(this);g.push({handle:E,url:URL.createObjectURL(y),id:s++}),n(3,g),n(2,c++,c),r.set(this,null),c===u?n(0,o=2):await l(this)}async function l(N){let y,E,m;for(;;){if(y=a.findIndex(ue=>ue!==null),y===-1)return;if(m=a[y],E=await m.getFile(),E.type.startsWith("image/"))break;n(1,u--,u),a[y]=null}a[y]=null;const w=await E.arrayBuffer();r.set(N,m),N.postMessage({buffer:w,type:E.type,name:m.name},[w])}async function d(){const N=await window.showDirectoryPicker({mode:"readwrite"});n(0,o=1),n(1,u=0),n(2,c=0),n(3,g=[]),a=[];let y;for await(y of N.values())y.kind==="file"&&(a.push(y),n(1,u++,u));const E=Math.min(u,4);for(let m=0;m<E;m++)await l(i[m])}function h(N){n(3,g=N.detail.items)}let p=[{id:1,instance:null}],_=2;function v(){p.push({id:_++,instance:null}),n(4,p)}let O=!1;async function T(){if(O)return;if(!p.every(y=>y.instance.validate()))return alert("Some groups are missing their name");try{await Promise.all(p.map(y=>y.instance.rename())),O=!1,n(0,o=0)}catch(y){console.error(y),alert("Could not rename: see console")}}function R(N,y,E){ot[N?"unshift":"push"](()=>{y[E].instance=N,n(4,p)})}return[o,u,c,g,p,d,h,v,T,R]}class yr extends wt{constructor(t){super(),yt(this,t,Er,_r,ht,{})}}new yr({target:document.getElementById("app")});
