var Ln=Object.defineProperty;var $n=(e,t,n)=>t in e?Ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Je=(e,t,n)=>($n(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function k(){}const Cn=e=>e;function Vt(e){return e()}function Tt(){return Object.create(null)}function q(e){e.forEach(Vt)}function we(e){return typeof e=="function"}function jt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let xe;function Me(e,t){return e===t?!0:(xe||(xe=document.createElement("a")),xe.href=t,e===xe.href)}function Mn(e){return Object.keys(e).length===0}function qt(e){return e&&we(e.destroy)?e.destroy:k}const Kt=typeof window<"u";let Pn=Kt?()=>window.performance.now():()=>Date.now(),dt=Kt?e=>requestAnimationFrame(e):k;const fe=new Set;function Xt(e){fe.forEach(t=>{t.c(e)||(fe.delete(t),t.f())}),fe.size!==0&&dt(Xt)}function kn(e){let t;return fe.size===0&&dt(Xt),{promise:new Promise(n=>{fe.add(t={c:e,f:n})}),abort(){fe.delete(t)}}}const Fn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function T(e,t){e.appendChild(t)}function Jt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Gn(e){const t=S("style");return t.textContent="/* empty */",Bn(Jt(e),t),t.sheet}function Bn(e,t){return T(e.head||e,t),t.sheet}function W(e,t,n){e.insertBefore(t,n||null)}function F(e){e.parentNode&&e.parentNode.removeChild(e)}function S(e){return document.createElement(e)}function K(e){return document.createTextNode(e)}function Q(){return K(" ")}function ee(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function v(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function zn(e){return Array.from(e.childNodes)}function Qe(e,t){t=""+t,e.data!==t&&(e.data=t)}function vt(e,t){e.value=t??""}function bt(e,t,n){e.classList.toggle(t,!!n)}const Pe=new Map;let ke=0;function Un(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Zn(e,t){const n={stylesheet:Gn(t),rules:{}};return Pe.set(e,n),n}function Wn(e,t,n,i,r,s,a,c=0){const u=16.666/i;let f=`{
`;for(let _=0;_<=1;_+=u){const b=t+(n-t)*s(_);f+=_*100+`%{${a(b,1-b)}}
`}const l=f+`100% {${a(n,1-n)}}
}`,d=`__svelte_${Un(l)}_${c}`,o=Jt(e),{stylesheet:g,rules:h}=Pe.get(o)||Zn(o,e);h[d]||(h[d]=!0,g.insertRule(`@keyframes ${d} ${l}`,g.cssRules.length));const p=e.style.animation||"";return e.style.animation=`${p?`${p}, `:""}${d} ${i}ms linear ${r}ms 1 both`,ke+=1,d}function Yn(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),r=n.length-i.length;r&&(e.style.animation=i.join(", "),ke-=r,ke||Hn())}function Hn(){dt(()=>{ke||(Pe.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&F(t)}),Pe.clear())})}function Qt(e,t,n,i){if(!t)return k;const r=e.getBoundingClientRect();if(t.left===r.left&&t.right===r.right&&t.top===r.top&&t.bottom===r.bottom)return k;const{delay:s=0,duration:a=300,easing:c=Cn,start:u=Pn()+s,end:f=u+a,tick:l=k,css:d}=n(e,{from:t,to:r},i);let o=!0,g=!1,h;function p(){d&&(h=Wn(e,0,1,a,s,c,d)),s||(g=!0)}function _(){d&&Yn(e,h),o=!1}return kn(b=>{if(!g&&b>=u&&(g=!0),g&&b>=f&&(l(1,0),_()),!o)return!1;if(g){const O=b-u,D=0+1*c(O/a);l(D,1-D)}return!0}),p(),l(0,1),_}function en(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:i}=t,r=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=i,Vn(e,r)}}function Vn(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const i=getComputedStyle(e),r=i.transform==="none"?"":i.transform;e.style.transform=`${r} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let ft;function Te(e){ft=e}const de=[],nt=[];let ge=[];const Ot=[],jn=Promise.resolve();let it=!1;function qn(){it||(it=!0,jn.then(tn))}function rt(e){ge.push(e)}const et=new Set;let ue=0;function tn(){if(ue!==0)return;const e=ft;do{try{for(;ue<de.length;){const t=de[ue];ue++,Te(t),Kn(t.$$)}}catch(t){throw de.length=0,ue=0,t}for(Te(null),de.length=0,ue=0;nt.length;)nt.pop()();for(let t=0;t<ge.length;t+=1){const n=ge[t];et.has(n)||(et.add(n),n())}ge.length=0}while(de.length);for(;Ot.length;)Ot.pop()();it=!1,et.clear(),Te(e)}function Kn(e){if(e.fragment!==null){e.update(),q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(rt)}}function Xn(e){const t=[],n=[];ge.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),ge=t}const Le=new Set;let oe;function nn(){oe={r:0,c:[],p:oe}}function rn(){oe.r||q(oe.c),oe=oe.p}function se(e,t){e&&e.i&&(Le.delete(e),e.i(t))}function ve(e,t,n,i){if(e&&e.o){if(Le.has(e))return;Le.add(e),oe.c.push(()=>{Le.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function pe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Jn(e,t){e.d(1),t.delete(e.key)}function Qn(e,t){ve(e,1,1,()=>{t.delete(e.key)})}function on(e,t){e.f(),Jn(e,t)}function gt(e,t,n,i,r,s,a,c,u,f,l,d){let o=e.length,g=s.length,h=o;const p={};for(;h--;)p[e[h].key]=h;const _=[],b=new Map,O=new Map,D=[];for(h=g;h--;){const y=d(r,s,h),m=n(y);let w=a.get(m);w?i&&D.push(()=>w.p(y,t)):(w=f(m,y),w.c()),b.set(m,_[h]=w),m in p&&O.set(m,Math.abs(h-p[m]))}const I=new Set,R=new Set;function E(y){se(y,1),y.m(c,l),a.set(y.key,y),l=y.first,g--}for(;o&&g;){const y=_[g-1],m=e[o-1],w=y.key,ce=m.key;y===m?(l=y.first,o--,g--):b.has(ce)?!a.has(w)||I.has(w)?E(y):R.has(ce)?o--:O.get(w)>O.get(ce)?(R.add(w),E(y)):(I.add(ce),o--):(u(m,a),o--)}for(;o--;){const y=e[o];b.has(y.key)||u(y,a)}for(;g;)E(_[g-1]);return q(D),_}function ei(e){e&&e.c()}function sn(e,t,n){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),rt(()=>{const s=e.$$.on_mount.map(Vt).filter(we);e.$$.on_destroy?e.$$.on_destroy.push(...s):q(s),e.$$.on_mount=[]}),r.forEach(rt)}function ln(e,t){const n=e.$$;n.fragment!==null&&(Xn(n.after_update),q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ti(e,t){e.$$.dirty[0]===-1&&(de.push(e),qn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function an(e,t,n,i,r,s,a=null,c=[-1]){const u=ft;Te(e);const f=e.$$={fragment:null,ctx:[],props:s,update:k,not_equal:r,bound:Tt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Tt(),dirty:c,skip_bound:!1,root:t.target||u.$$.root};a&&a(f.root);let l=!1;if(f.ctx=n?n(e,t.props||{},(d,o,...g)=>{const h=g.length?g[0]:o;return f.ctx&&r(f.ctx[d],f.ctx[d]=h)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](h),l&&ti(e,d)),o}):[],f.update(),l=!0,q(f.before_update),f.fragment=i?i(f.ctx):!1,t.target){if(t.hydrate){const d=zn(t.target);f.fragment&&f.fragment.l(d),d.forEach(F)}else f.fragment&&f.fragment.c();t.intro&&se(e.$$.fragment),sn(e,t.target,t.anchor),tn()}Te(u)}class cn{constructor(){Je(this,"$$");Je(this,"$$set")}$destroy(){ln(this,1),this.$destroy=k}$on(t,n){if(!we(n))return k;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!Mn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ni="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ni);function ii(e){const t=e-1;return t*t*t+1}function un(e,{from:t,to:n},i={}){const r=getComputedStyle(e),s=r.transform==="none"?"":r.transform,[a,c]=r.transformOrigin.split(" ").map(parseFloat),u=t.left+t.width*a/n.width-(n.left+a),f=t.top+t.height*c/n.height-(n.top+c),{delay:l=0,duration:d=g=>Math.sqrt(g)*120,easing:o=ii}=i;return{delay:l,duration:we(d)?d(Math.sqrt(u*u+f*f)):d,easing:o,css:(g,h)=>{const p=h*u,_=h*f,b=g+h*t.width/n.width,O=g+h*t.height/n.height;return`transform: ${s} translate(${p}px, ${_}px) scale(${b}, ${O});`}}}const ri="finalize",oi="consider";function me(e,t,n){e.dispatchEvent(new CustomEvent(ri,{detail:{items:t,info:n}}))}function te(e,t,n){e.dispatchEvent(new CustomEvent(oi,{detail:{items:t,info:n}}))}const He="draggedEntered",Ie="draggedLeft",Ve="draggedOverIndex",ht="draggedLeftDocument",Fe={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function si(e,t,n){e.dispatchEvent(new CustomEvent(He,{detail:{indexObj:t,draggedEl:n}}))}function li(e,t,n){e.dispatchEvent(new CustomEvent(Ie,{detail:{draggedEl:t,type:Fe.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function ai(e,t){e.dispatchEvent(new CustomEvent(Ie,{detail:{draggedEl:t,type:Fe.OUTSIDE_OF_ANY}}))}function ci(e,t,n){e.dispatchEvent(new CustomEvent(Ve,{detail:{indexObj:t,draggedEl:n}}))}function ui(e){window.dispatchEvent(new CustomEvent(ht,{detail:{draggedEl:e}}))}const P={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:He,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Ve,DRAGGED_LEFT:Ie,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},G={POINTER:"pointer",KEYBOARD:"keyboard"},je="isDndShadowItem",pt="data-is-dnd-shadow-item-internal",di="data-is-dnd-shadow-item-hint",fi="id:dnd-shadow-placeholder-0000",gi="dnd-action-dragged-el";let M="id",ot=0;function dn(){ot++}function fn(){if(ot===0)throw new Error("Bug! trying to decrement when there are no dropzones");ot--}const mt=typeof window>"u";function gn(e){let t;const n=e.getBoundingClientRect(),i=getComputedStyle(e),r=i.transform;if(r){let s,a,c,u;if(r.startsWith("matrix3d("))t=r.slice(9,-1).split(/, /),s=+t[0],a=+t[5],c=+t[12],u=+t[13];else if(r.startsWith("matrix("))t=r.slice(7,-1).split(/, /),s=+t[0],a=+t[3],c=+t[4],u=+t[5];else return n;const f=i.transformOrigin,l=n.x-c-(1-s)*parseFloat(f),d=n.y-u-(1-a)*parseFloat(f.slice(f.indexOf(" ")+1)),o=s?n.width/s:e.offsetWidth,g=a?n.height/a:e.offsetHeight;return{x:l,y:d,width:o,height:g,top:d,right:l+o,bottom:d+g,left:l}}else return n}function hn(e){const t=gn(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function _t(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function pn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function hi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yt(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function be(e){return pn(_t(e))}function At(e,t){const n=be(e),i=hn(t);return yt(n,i)}function pi(e,t){const n=be(e),i=be(t);return hi(n,i)}function mi(e){const t=_t(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function _i(e,t){const n=_t(t);return yt(e,n)?{top:e.y-n.top,bottom:n.bottom-e.y,left:e.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-e.x}:null}let le;function Et(){le=new Map}Et();function yi(e){le.delete(e)}function Ei(e){const t=Array.from(e.children).findIndex(n=>n.getAttribute(pt));if(t>=0)return le.has(e)||le.set(e,new Map),le.get(e).set(t,hn(e.children[t])),t}function wi(e,t){if(!At(e,t))return null;const n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};const i=Ei(t);for(let a=0;a<n.length;a++)if(At(e,n[a])){const c=le.has(t)&&le.get(t).get(a);return c&&!yt(be(e),c)?{index:i,isProximityBased:!1}:{index:a,isProximityBased:!1}}let r=Number.MAX_VALUE,s;for(let a=0;a<n.length;a++){const c=pi(e,n[a]);c<r&&(r=c,s=a)}return{index:s,isProximityBased:!0}}const De=25;function mn(){let e;function t(){e={directionObj:void 0,stepPx:0}}t();function n(s){const{directionObj:a,stepPx:c}=e;a&&(s.scrollBy(a.x*c,a.y*c),window.requestAnimationFrame(()=>n(s)))}function i(s){return De-s}function r(s,a){if(!a)return!1;const c=_i(s,a);if(c===null)return t(),!1;const u=!!e.directionObj;let[f,l]=[!1,!1];return a.scrollHeight>a.clientHeight&&(c.bottom<De?(f=!0,e.directionObj={x:0,y:1},e.stepPx=i(c.bottom)):c.top<De&&(f=!0,e.directionObj={x:0,y:-1},e.stepPx=i(c.top)),!u&&f)||a.scrollWidth>a.clientWidth&&(c.right<De?(l=!0,e.directionObj={x:1,y:0},e.stepPx=i(c.right)):c.left<De&&(l=!0,e.directionObj={x:-1,y:0},e.stepPx=i(c.left)),!u&&l)?(n(a),!0):(t(),!1)}return{scrollIfNeeded:r,resetScrolling:t}}function Ne(e){return JSON.stringify(e,null,2)}function It(e){if(!e)throw new Error("cannot get depth of a falsy node");return _n(e,0)}function _n(e,t=0){return e.parentElement?_n(e.parentElement,t+1):t-1}function Di(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!{}.hasOwnProperty.call(t,n)||t[n]!==e[n])return!1;return!0}function Ti(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const vi=200,Rt=10,{scrollIfNeeded:bi,resetScrolling:Oi}=mn();let st;function Ai(e,t,n=vi){let i,r,s=!1,a;const c=Array.from(t).sort((f,l)=>It(l)-It(f));function u(){const f=be(e),l=bi(f,i);if(!l&&a&&Math.abs(a.x-f.x)<Rt&&Math.abs(a.y-f.y)<Rt){st=window.setTimeout(u,n);return}if(mi(e)){ui(e);return}a=f;let d=!1;for(const o of c){l&&yi(i);const g=wi(e,o);if(g===null)continue;const{index:h}=g;d=!0,o!==i?(i&&li(i,e,o),si(o,g,e),i=o):h!==r&&(ci(o,g,e),r=h);break}!d&&s&&i?(ai(i,e),i=void 0,r=void 0,s=!1):s=!0,st=window.setTimeout(u,n)}u()}function Ii(){clearTimeout(st),Oi(),Et()}const Ri=300;let Ge;function Be(e){const t=e.touches?e.touches[0]:e;Ge={x:t.clientX,y:t.clientY}}const{scrollIfNeeded:xi,resetScrolling:Ni}=mn();let yn;function En(){Ge&&xi(Ge,document.documentElement)&&Et(),yn=window.setTimeout(En,Ri)}function Si(){window.addEventListener("mousemove",Be),window.addEventListener("touchmove",Be),En()}function Li(){window.removeEventListener("mousemove",Be),window.removeEventListener("touchmove",Be),Ge=void 0,window.clearTimeout(yn),Ni()}function $i(e){const t=e.cloneNode(!0),n=[],i=e.tagName==="SELECT",r=i?[e]:[...e.querySelectorAll("select")];for(const c of r)n.push(c.value);if(r.length>0){const c=i?[t]:[...t.querySelectorAll("select")];for(let u=0;u<c.length;u++){const f=c[u],l=n[u],d=f.querySelector(`option[value="${l}"`);d&&d.setAttribute("selected",!0)}}const s=e.tagName==="CANVAS",a=s?[e]:[...e.querySelectorAll("canvas")];if(a.length>0){const c=s?[t]:[...t.querySelectorAll("canvas")];for(let u=0;u<c.length;u++){const f=a[u],l=c[u];l.width=f.width,l.height=f.height,l.getContext("2d").drawImage(f,0,0)}}return t}const Oe=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Ci={[Oe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT]:!1};function wn(e){if(!Oe[e])throw new Error(`Can't get non existing feature flag ${e}! Supported flags: ${Object.keys(Oe)}`);return Ci[e]}const Mi=.2;function ne(e){return`${e} ${Mi}s ease`}function Pi(e,t){const n=e.getBoundingClientRect(),i=$i(e);Dn(e,i),i.id=gi,i.style.position="fixed";let r=n.top,s=n.left;if(i.style.top=`${r}px`,i.style.left=`${s}px`,t){const a=pn(n);r-=a.y-t.y,s-=a.x-t.x,window.setTimeout(()=>{i.style.top=`${r}px`,i.style.left=`${s}px`},0)}return i.style.margin="0",i.style.boxSizing="border-box",i.style.height=`${n.height}px`,i.style.width=`${n.width}px`,i.style.transition=`${ne("top")}, ${ne("left")}, ${ne("background-color")}, ${ne("opacity")}, ${ne("color")} `,window.setTimeout(()=>i.style.transition+=`, ${ne("width")}, ${ne("height")}`,0),i.style.zIndex="9999",i.style.cursor="grabbing",i}function ki(e){e.style.cursor="grab"}function Fi(e,t,n,i){Dn(t,e);const r=t.getBoundingClientRect(),s=e.getBoundingClientRect(),a=r.width-s.width,c=r.height-s.height;if(a||c){const u={left:(n-s.left)/s.width,top:(i-s.top)/s.height};wn(Oe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height=`${r.height}px`,e.style.width=`${r.width}px`),e.style.left=`${parseFloat(e.style.left)-u.left*a}px`,e.style.top=`${parseFloat(e.style.top)-u.top*c}px`}}function Dn(e,t){const n=window.getComputedStyle(e);Array.from(n).filter(i=>i.startsWith("background")||i.startsWith("padding")||i.startsWith("font")||i.startsWith("text")||i.startsWith("align")||i.startsWith("justify")||i.startsWith("display")||i.startsWith("flex")||i.startsWith("border")||i==="opacity"||i==="color"||i==="list-style-type"||wn(Oe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(i==="width"||i==="height")).forEach(i=>t.style.setProperty(i,n.getPropertyValue(i),n.getPropertyPriority(i)))}function Gi(e,t){e.draggable=!1,e.ondragstart=()=>!1,t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Tn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Bi(e){e.style.visibility="hidden",e.setAttribute(pt,"true")}function zi(e){e.style.visibility="",e.removeAttribute(pt)}function $e(e,t=()=>{},n=()=>[]){e.forEach(i=>{const r=t(i);Object.keys(r).forEach(s=>{i.style[s]=r[s]}),n(i).forEach(s=>i.classList.add(s))})}function ze(e,t=()=>{},n=()=>[]){e.forEach(i=>{const r=t(i);Object.keys(r).forEach(s=>{i.style[s]=""}),n(i).forEach(s=>i.classList.contains(s)&&i.classList.remove(s))})}function Ui(e){const t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");const n=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=n}}const Zi="--any--",Wi=100,Yi=20,xt=3,Nt={outline:"rgba(255, 255, 102, 0.7) solid 2px"},St="data-is-dnd-original-dragged-item";let V,$,z,qe,A,Ke,_e,B,X,U,re=!1,wt=!1,Dt,Re=!1,Ce=[];const H=new Map,N=new Map,tt=new WeakMap;function Hi(e,t){H.has(t)||H.set(t,new Set),H.get(t).has(e)||(H.get(t).add(e),dn())}function Lt(e,t){H.get(t).delete(e),fn(),H.get(t).size===0&&H.delete(t)}function Vi(){Si();const e=H.get(qe);for(const i of e)i.addEventListener(He,vn),i.addEventListener(Ie,bn),i.addEventListener(Ve,On);window.addEventListener(ht,ye);const t=Math.max(...Array.from(e.keys()).map(i=>N.get(i).dropAnimationDurationMs)),n=t===0?Yi:Math.max(t,Wi);Ai($,e,n*1.07)}function ji(){Li();const e=H.get(qe);for(const t of e)t.removeEventListener(He,vn),t.removeEventListener(Ie,bn),t.removeEventListener(Ve,On);window.removeEventListener(ht,ye),Ii()}function Xe(e){return e.findIndex(t=>!!t[je])}function vn(e){let{items:t,dropFromOthersDisabled:n}=N.get(e.currentTarget);if(n&&e.currentTarget!==A)return;if(Re=!1,t=t.filter(a=>a[M]!==_e[M]),A!==e.currentTarget){const c=N.get(A).items.filter(u=>!u[je]);te(A,c,{trigger:P.DRAGGED_ENTERED_ANOTHER,id:z[M],source:G.POINTER})}const{index:i,isProximityBased:r}=e.detail.indexObj,s=r&&i===e.currentTarget.children.length-1?i+1:i;B=e.currentTarget,t.splice(s,0,_e),te(e.currentTarget,t,{trigger:P.DRAGGED_ENTERED,id:z[M],source:G.POINTER})}function bn(e){if(!re)return;const{items:t,dropFromOthersDisabled:n}=N.get(e.currentTarget);if(n&&e.currentTarget!==A&&e.currentTarget!==B)return;const i=Xe(t),r=t.splice(i,1)[0];B=void 0;const{type:s,theOtherDz:a}=e.detail;if(s===Fe.OUTSIDE_OF_ANY||s===Fe.LEFT_FOR_ANOTHER&&a!==A&&N.get(a).dropFromOthersDisabled){Re=!0,B=A;const c=N.get(A).items;c.splice(Ke,0,r),te(A,c,{trigger:P.DRAGGED_LEFT_ALL,id:z[M],source:G.POINTER})}te(e.currentTarget,t,{trigger:P.DRAGGED_LEFT,id:z[M],source:G.POINTER})}function On(e){const{items:t,dropFromOthersDisabled:n}=N.get(e.currentTarget);if(n&&e.currentTarget!==A)return;Re=!1;const{index:i}=e.detail.indexObj,r=Xe(t);t.splice(r,1),t.splice(i,0,_e),te(e.currentTarget,t,{trigger:P.DRAGGED_OVER_INDEX,id:z[M],source:G.POINTER})}function Ue(e){e.preventDefault();const t=e.touches?e.touches[0]:e;U={x:t.clientX,y:t.clientY},$.style.transform=`translate3d(${U.x-X.x}px, ${U.y-X.y}px, 0)`}function ye(){wt=!0,window.removeEventListener("mousemove",Ue),window.removeEventListener("touchmove",Ue),window.removeEventListener("mouseup",ye),window.removeEventListener("touchend",ye),ji(),ki($),B||(B=A);let{items:e,type:t}=N.get(B);ze(H.get(t),r=>N.get(r).dropTargetStyle,r=>N.get(r).dropTargetClasses);let n=Xe(e);n===-1&&(n=Ke),e=e.map(r=>r[je]?z:r);function i(){Dt(),me(B,e,{trigger:Re?P.DROPPED_OUTSIDE_OF_ANY:P.DROPPED_INTO_ZONE,id:z[M],source:G.POINTER}),B!==A&&me(A,N.get(A).items,{trigger:P.DROPPED_INTO_ANOTHER,id:z[M],source:G.POINTER}),zi(B.children[n]),Xi()}qi(n,i)}function qi(e,t){const n=gn(B.children[e]),i={x:n.left-parseFloat($.style.left),y:n.top-parseFloat($.style.top)},{dropAnimationDurationMs:r}=N.get(B),s=`transform ${r}ms ease`;$.style.transition=$.style.transition?$.style.transition+","+s:s,$.style.transform=`translate3d(${i.x}px, ${i.y}px, 0)`,window.setTimeout(t,r)}function Ki(e,t){Ce.push({dz:e,destroy:t}),window.requestAnimationFrame(()=>{Tn(e),document.body.appendChild(e)})}function Xi(){$.remove(),V.remove(),Ce.length&&(Ce.forEach(({dz:e,destroy:t})=>{t(),e.remove()}),Ce=[]),$=void 0,V=void 0,z=void 0,qe=void 0,A=void 0,Ke=void 0,_e=void 0,B=void 0,X=void 0,U=void 0,re=!1,wt=!1,Dt=void 0,Re=!1}function Ji(e,t){let n=!1;const i={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Nt,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let r=new Map;function s(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",c,{passive:!1}),window.addEventListener("touchend",c,{passive:!1})}function a(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",c),window.removeEventListener("touchend",c)}function c(){a(),V=void 0,X=void 0,U=void 0}function u(o){o.preventDefault();const g=o.touches?o.touches[0]:o;U={x:g.clientX,y:g.clientY},(Math.abs(U.x-X.x)>=xt||Math.abs(U.y-X.y)>=xt)&&(a(),l())}function f(o){if(o.target!==o.currentTarget&&(o.target.value!==void 0||o.target.isContentEditable)||o.button||re)return;o.stopPropagation();const g=o.touches?o.touches[0]:o;X={x:g.clientX,y:g.clientY},U={...X},V=o.currentTarget,s()}function l(){re=!0;const o=r.get(V);Ke=o,A=V.parentElement;const g=A.closest("dialog")||A.getRootNode(),h=g.body||g,{items:p,type:_,centreDraggedOnCursor:b}=i;z={...p[o]},qe=_,_e={...z,[je]:!0,[M]:fi},$=Pi(V,b&&U),V.setAttribute(St,!0);function O(){$.parentElement?window.requestAnimationFrame(O):(h.appendChild($),$.focus(),Vi(),Tn(V),h.appendChild(V))}window.requestAnimationFrame(O),$e(Array.from(H.get(i.type)).filter(D=>D===A||!N.get(D).dropFromOthersDisabled),D=>N.get(D).dropTargetStyle,D=>N.get(D).dropTargetClasses),p.splice(o,1,_e),Dt=Ui(A),te(A,p,{trigger:P.DRAG_STARTED,id:z[M],source:G.POINTER}),window.addEventListener("mousemove",Ue,{passive:!1}),window.addEventListener("touchmove",Ue,{passive:!1,capture:!1}),window.addEventListener("mouseup",ye,{passive:!1}),window.addEventListener("touchend",ye,{passive:!1})}function d({items:o=void 0,flipDurationMs:g=0,type:h=Zi,dragDisabled:p=!1,morphDisabled:_=!1,dropFromOthersDisabled:b=!1,dropTargetStyle:O=Nt,dropTargetClasses:D=[],transformDraggedElement:I=()=>{},centreDraggedOnCursor:R=!1}){i.dropAnimationDurationMs=g,i.type&&h!==i.type&&Lt(e,i.type),i.type=h,i.items=[...o],i.dragDisabled=p,i.morphDisabled=_,i.transformDraggedElement=I,i.centreDraggedOnCursor=R,n&&re&&!wt&&(!Di(O,i.dropTargetStyle)||!Ti(D,i.dropTargetClasses))&&(ze([e],()=>i.dropTargetStyle,()=>D),$e([e],()=>O,()=>D)),i.dropTargetStyle=O,i.dropTargetClasses=[...D];function E(m,w){return N.get(m)?N.get(m)[w]:i[w]}n&&re&&i.dropFromOthersDisabled!==b&&(b?ze([e],m=>E(m,"dropTargetStyle"),m=>E(m,"dropTargetClasses")):$e([e],m=>E(m,"dropTargetStyle"),m=>E(m,"dropTargetClasses"))),i.dropFromOthersDisabled=b,N.set(e,i),Hi(e,h);const y=Xe(i.items);for(let m=0;m<e.children.length;m++){const w=e.children[m];if(Gi(w,p),m===y){i.transformDraggedElement($,z,m),_||Fi($,w,U.x,U.y),Bi(w);continue}w.removeEventListener("mousedown",tt.get(w)),w.removeEventListener("touchstart",tt.get(w)),p||(w.addEventListener("mousedown",f),w.addEventListener("touchstart",f),tt.set(w,f)),r.set(w,m),n||(n=!0)}}return d(t),{update:o=>{d(o)},destroy:()=>{function o(){Lt(e,N.get(e).type),N.delete(e)}re&&!e.closest(`[${St}]`)?Ki(e,o):o()}}}const lt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},An={[lt.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[lt.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},Qi="dnd-action-aria-alert";let x;function at(){x||(x=document.createElement("div"),function(){x.id=Qi,x.style.position="fixed",x.style.bottom="0",x.style.left="0",x.style.zIndex="-5",x.style.opacity="0",x.style.height="0",x.style.width="0",x.setAttribute("role","alert")}(),document.body.prepend(x),Object.entries(An).forEach(([e,t])=>document.body.prepend(nr(e,t))))}function er(){return mt?null:(document.readyState==="complete"?at():window.addEventListener("DOMContentLoaded",at),{...lt})}function tr(){mt||!x||(Object.keys(An).forEach(e=>{var t;return(t=document.getElementById(e))==null?void 0:t.remove()}),x.remove(),x=void 0)}function nr(e,t){const n=document.createElement("div");return n.id=e,n.innerHTML=`<p>${t}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function he(e){if(mt)return;x||at(),x.innerHTML="";const t=document.createTextNode(e);x.appendChild(t),x.style.display="none",x.style.display="inline"}const ir="--any--",$t={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let Z=!1,ct,C,ae="",ie,j,J="";const Ze=new WeakSet,Ct=new WeakMap,Mt=new WeakMap,ut=new Map,L=new Map,Y=new Map;let We;function rr(e,t){Y.size===0&&(We=er(),window.addEventListener("keydown",In),window.addEventListener("click",Rn)),Y.has(t)||Y.set(t,new Set),Y.get(t).has(e)||(Y.get(t).add(e),dn())}function Pt(e,t){C===e&&Ae(),Y.get(t).delete(e),fn(),Y.get(t).size===0&&Y.delete(t),Y.size===0&&(window.removeEventListener("keydown",In),window.removeEventListener("click",Rn),We=void 0,tr())}function In(e){if(Z)switch(e.key){case"Escape":{Ae();break}}}function Rn(){Z&&(Ze.has(document.activeElement)||Ae())}function or(e){if(!Z)return;const t=e.currentTarget;if(t===C)return;ae=t.getAttribute("aria-label")||"";const{items:n}=L.get(C),i=n.find(f=>f[M]===j),r=n.indexOf(i),s=n.splice(r,1)[0],{items:a,autoAriaDisabled:c}=L.get(t);t.getBoundingClientRect().top<C.getBoundingClientRect().top||t.getBoundingClientRect().left<C.getBoundingClientRect().left?(a.push(s),c||he(`Moved item ${J} to the end of the list ${ae}`)):(a.unshift(s),c||he(`Moved item ${J} to the beginning of the list ${ae}`)),me(C,n,{trigger:P.DROPPED_INTO_ANOTHER,id:j,source:G.KEYBOARD}),me(t,a,{trigger:P.DROPPED_INTO_ZONE,id:j,source:G.KEYBOARD}),C=t}function xn(){ut.forEach(({update:e},t)=>e(L.get(t)))}function Ae(e=!0){L.get(C).autoAriaDisabled||he(`Stopped dragging item ${J}`),Ze.has(document.activeElement)&&document.activeElement.blur(),e&&te(C,L.get(C).items,{trigger:P.DRAG_STOPPED,id:j,source:G.KEYBOARD}),ze(Y.get(ct),t=>L.get(t).dropTargetStyle,t=>L.get(t).dropTargetClasses),ie=null,j=null,J="",ct=null,C=null,ae="",Z=!1,xn()}function sr(e,t){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:$t,dropTargetClasses:[],autoAriaDisabled:!1};function i(l,d,o){l.length<=1||l.splice(o,1,l.splice(d,1,l[o])[0])}function r(l){switch(l.key){case"Enter":case" ":{if((l.target.disabled!==void 0||l.target.href||l.target.isContentEditable)&&!Ze.has(l.target))return;l.preventDefault(),l.stopPropagation(),Z?Ae():s(l);break}case"ArrowDown":case"ArrowRight":{if(!Z)return;l.preventDefault(),l.stopPropagation();const{items:d}=L.get(e),o=Array.from(e.children),g=o.indexOf(l.currentTarget);g<o.length-1&&(n.autoAriaDisabled||he(`Moved item ${J} to position ${g+2} in the list ${ae}`),i(d,g,g+1),me(e,d,{trigger:P.DROPPED_INTO_ZONE,id:j,source:G.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Z)return;l.preventDefault(),l.stopPropagation();const{items:d}=L.get(e),g=Array.from(e.children).indexOf(l.currentTarget);g>0&&(n.autoAriaDisabled||he(`Moved item ${J} to position ${g} in the list ${ae}`),i(d,g,g-1),me(e,d,{trigger:P.DROPPED_INTO_ZONE,id:j,source:G.KEYBOARD}));break}}}function s(l){c(l.currentTarget),C=e,ct=n.type,Z=!0;const d=Array.from(Y.get(n.type)).filter(o=>o===C||!L.get(o).dropFromOthersDisabled);if($e(d,o=>L.get(o).dropTargetStyle,o=>L.get(o).dropTargetClasses),!n.autoAriaDisabled){let o=`Started dragging item ${J}. Use the arrow keys to move it within its list ${ae}`;d.length>1&&(o+=", or tab to another list in order to move the item into it"),he(o)}te(e,L.get(e).items,{trigger:P.DRAG_STARTED,id:j,source:G.KEYBOARD}),xn()}function a(l){Z&&l.currentTarget!==ie&&(l.stopPropagation(),Ae(!1),s(l))}function c(l){const{items:d}=L.get(e),o=Array.from(e.children),g=o.indexOf(l);ie=l,ie.tabIndex=n.zoneItemTabIndex,j=d[g][M],J=o[g].getAttribute("aria-label")||""}function u({items:l=[],type:d=ir,dragDisabled:o=!1,zoneTabIndex:g=0,zoneItemTabIndex:h=0,dropFromOthersDisabled:p=!1,dropTargetStyle:_=$t,dropTargetClasses:b=[],autoAriaDisabled:O=!1}){n.items=[...l],n.dragDisabled=o,n.dropFromOthersDisabled=p,n.zoneTabIndex=g,n.zoneItemTabIndex=h,n.dropTargetStyle=_,n.dropTargetClasses=b,n.autoAriaDisabled=O,n.type&&d!==n.type&&Pt(e,n.type),n.type=d,rr(e,d),O||(e.setAttribute("aria-disabled",o),e.setAttribute("role","list"),e.setAttribute("aria-describedby",o?We.DND_ZONE_DRAG_DISABLED:We.DND_ZONE_ACTIVE)),L.set(e,n),Z?e.tabIndex=e===C||ie.contains(e)||n.dropFromOthersDisabled||C&&n.type!==L.get(C).type?-1:0:e.tabIndex=n.zoneTabIndex,e.addEventListener("focus",or);for(let D=0;D<e.children.length;D++){const I=e.children[D];Ze.add(I),I.tabIndex=Z?-1:n.zoneItemTabIndex,O||I.setAttribute("role","listitem"),I.removeEventListener("keydown",Ct.get(I)),I.removeEventListener("click",Mt.get(I)),o||(I.addEventListener("keydown",r),Ct.set(I,r),I.addEventListener("click",a),Mt.set(I,a)),Z&&n.items[D][M]===j&&(ie=I,ie.tabIndex=n.zoneItemTabIndex,I.focus())}}u(t);const f={update:l=>{u(l)},destroy:()=>{Pt(e,n.type),L.delete(e),ut.delete(e)}};return ut.set(e,f),f}function Nn(e,t){if(lr(e))return{update:()=>{},destroy:()=>{}};kt(t);const n=Ji(e,t),i=sr(e,t);return{update:r=>{kt(r),n.update(r),i.update(r)},destroy:()=>{n.destroy(),i.destroy()}}}function lr(e){return!!e.closest(`[${di}="true"]`)}function kt(e){const{items:t,flipDurationMs:n,type:i,dragDisabled:r,morphDisabled:s,dropFromOthersDisabled:a,zoneTabIndex:c,zoneItemTabIndex:u,dropTargetStyle:f,dropTargetClasses:l,transformDraggedElement:d,autoAriaDisabled:o,centreDraggedOnCursor:g,...h}=e;if(Object.keys(h).length>0&&console.warn("dndzone will ignore unknown options",h),!t)throw new Error("no 'items' key provided to dndzone");const p=t.find(_=>!{}.hasOwnProperty.call(_,M));if(p)throw new Error(`missing '${M}' property for item ${Ne(p)}`);if(l&&!Array.isArray(l))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof l}, ${Ne(l)}`);if(c&&!Ft(c))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof c}, ${Ne(c)}`);if(u&&!Ft(u))throw new Error(`zoneItemTabIndex should be a number but instead it is a ${typeof u}, ${Ne(u)}`)}function Ft(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}const Ee=350,Ye={outline:"2px dashed #52b7bd"};function Gt(e,t,n){const i=e.slice();return i[7]=t[n],i}function Bt(e,t){let n,i,r,s,a,c=k;return{key:e,first:null,c(){n=S("li"),i=S("img"),s=Q(),Me(i.src,r=t[7].url)||v(i,"src",r),v(i,"alt",""),v(i,"class","svelte-lm82ba"),v(n,"class","svelte-lm82ba"),this.first=n},m(u,f){W(u,n,f),T(n,i),T(n,s)},p(u,f){t=u,f&1&&!Me(i.src,r=t[7].url)&&v(i,"src",r)},r(){a=n.getBoundingClientRect()},f(){en(n),c()},a(){c(),c=Qt(n,a,un,{duration:Ee})},d(u){u&&F(n)}}}function ar(e){let t,n,i,r,s=[],a=new Map,c,u,f,l=pe(e[0]);const d=o=>o[7].id;for(let o=0;o<l.length;o+=1){let g=Gt(e,l,o),h=d(g);a.set(h,s[o]=Bt(h,g))}return{c(){t=S("section"),n=S("input"),i=Q(),r=S("ul");for(let o=0;o<s.length;o+=1)s[o].c();v(n,"type","text"),v(n,"placeholder","Group name"),v(n,"class","svelte-lm82ba"),bt(n,"missing",e[2]&&!e[1]),v(r,"class","svelte-lm82ba"),v(t,"class","svelte-lm82ba")},m(o,g){W(o,t,g),T(t,n),vt(n,e[1]),T(t,i),T(t,r);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(r,null);u||(f=[ee(n,"input",e[6]),qt(c=Nn.call(null,r,{items:e[0],flipDurationMs:Ee,dropTargetStyle:Ye})),ee(r,"consider",e[3]),ee(r,"finalize",e[3])],u=!0)},p(o,[g]){if(g&2&&n.value!==o[1]&&vt(n,o[1]),g&6&&bt(n,"missing",o[2]&&!o[1]),g&1){l=pe(o[0]);for(let h=0;h<s.length;h+=1)s[h].r();s=gt(s,g,d,1,o,l,a,r,on,Bt,null,Gt);for(let h=0;h<s.length;h+=1)s[h].a()}c&&we(c.update)&&g&1&&c.update.call(null,{items:o[0],flipDurationMs:Ee,dropTargetStyle:Ye})},i:k,o:k,d(o){o&&F(t);for(let g=0;g<s.length;g+=1)s[g].d();u=!1,q(f)}}}function cr(e){const t=e.lastIndexOf(".");return t===-1?"":e.slice(t)}function ur(e,t,n){let i=[],r="",s=!1;function a(){return!i.length||r?!0:(n(2,s=!0),!1)}async function c(){if(!i.length)return!0;if(!r)return n(2,s=!0),!1;try{return await Promise.all(i.map((l,d)=>l.handle.move(`${r}-${(d+1).toFixed(0).padStart(3,"0")}${cr(l.handle.name)}`))),!0}catch(l){return console.error(l),!1}}function u(l){n(0,i=l.detail.items)}function f(){r=this.value,n(1,r)}return e.$$.update=()=>{e.$$.dirty&1&&console.log(i)},[i,r,s,u,a,c,f]}class dr extends cn{constructor(t){super(),an(this,t,ur,ar,jt,{validate:4,rename:5})}get validate(){return this.$$.ctx[4]}get rename(){return this.$$.ctx[5]}}function Se(e){return new Worker("/assets/worker-UKdmY9TP.js",{name:e==null?void 0:e.name})}const{Map:Sn}=Fn;function zt(e,t,n){const i=e.slice();return i[18]=t[n],i[19]=t,i[20]=n,i}function Ut(e,t,n){const i=e.slice();return i[21]=t[n],i}function fr(e){let t,n,i,r,s,a,c=(e[2]/e[1]*100).toFixed(1)+"",u,f;return{c(){t=S("p"),n=K("Loading "),i=K(e[2]),r=K("/"),s=K(e[1]),a=K(" images ("),u=K(c),f=K("%)"),v(t,"class","loading svelte-ravmvs")},m(l,d){W(l,t,d),T(t,n),T(t,i),T(t,r),T(t,s),T(t,a),T(t,u),T(t,f)},p(l,d){d&4&&Qe(i,l[2]),d&2&&Qe(s,l[1]),d&6&&c!==(c=(l[2]/l[1]*100).toFixed(1)+"")&&Qe(u,c)},d(l){l&&F(t)}}}function gr(e){let t,n,i;return{c(){t=S("button"),t.textContent="Choose folder",v(t,"class","btn open")},m(r,s){W(r,t,s),n||(i=ee(t,"click",e[5]),n=!0)},p:k,d(r){r&&F(t),n=!1,i()}}}function hr(e){let t;return{c(){t=S("p"),t.innerHTML='Experimental fetaures were not enabled: please go to <a href="chrome://flags/#enable-experimental-web-platform-features" target="_blank">chrome://flags/#enable-experimental-web-platform-features</a>, enable them, and reload this page. Note that you need to be on a recent version of a chromium-based browser.'},m(n,i){W(n,t,i)},p:k,d(n){n&&F(t)}}}function Zt(e){let t,n,i=[],r=new Sn,s,a,c,u=pe(e[3]);const f=l=>l[21].id;for(let l=0;l<u.length;l+=1){let d=Ut(e,u,l),o=f(d);r.set(o,i[l]=Wt(o,d))}return{c(){t=S("div"),n=S("ul");for(let l=0;l<i.length;l+=1)i[l].c();v(n,"class","svelte-ravmvs"),v(t,"class","sticky svelte-ravmvs")},m(l,d){W(l,t,d),T(t,n);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(n,null);a||(c=[qt(s=Nn.call(null,n,{items:e[3],flipDurationMs:Ee,dropTargetStyle:Ye})),ee(n,"consider",e[6]),ee(n,"finalize",e[6])],a=!0)},p(l,d){if(d&8){u=pe(l[3]);for(let o=0;o<i.length;o+=1)i[o].r();i=gt(i,d,f,1,l,u,r,n,on,Wt,null,Ut);for(let o=0;o<i.length;o+=1)i[o].a()}s&&we(s.update)&&d&8&&s.update.call(null,{items:l[3],flipDurationMs:Ee,dropTargetStyle:Ye})},d(l){l&&F(t);for(let d=0;d<i.length;d+=1)i[d].d();a=!1,q(c)}}}function Wt(e,t){let n,i,r,s,a,c=k;return{key:e,first:null,c(){n=S("li"),i=S("img"),s=Q(),Me(i.src,r=t[21].url)||v(i,"src",r),v(i,"alt",""),v(i,"class","svelte-ravmvs"),this.first=n},m(u,f){W(u,n,f),T(n,i),T(n,s)},p(u,f){t=u,f&8&&!Me(i.src,r=t[21].url)&&v(i,"src",r)},r(){a=n.getBoundingClientRect()},f(){en(n),c()},a(){c(),c=Qt(n,a,un,{duration:Ee})},d(u){u&&F(n)}}}function Yt(e){let t,n=[],i=new Sn,r,s,a,c,u,f,l,d,o=pe(e[4]);const g=h=>h[18].id;for(let h=0;h<o.length;h+=1){let p=zt(e,o,h),_=g(p);i.set(_,n[h]=Ht(_,p))}return{c(){t=S("div");for(let h=0;h<n.length;h+=1)n[h].c();r=Q(),s=S("div"),a=S("button"),a.textContent="Add group",c=Q(),u=S("button"),u.textContent="Rename",v(a,"class","btn"),v(s,"class","skeleton svelte-ravmvs"),v(t,"class","bins svelte-ravmvs"),v(u,"class","btn center svelte-ravmvs")},m(h,p){W(h,t,p);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(t,null);T(t,r),T(t,s),T(s,a),W(h,c,p),W(h,u,p),f=!0,l||(d=[ee(a,"click",e[7]),ee(u,"click",e[8])],l=!0)},p(h,p){p&16&&(o=pe(h[4]),nn(),n=gt(n,p,g,1,h,o,i,t,Qn,Ht,r,zt),rn())},i(h){if(!f){for(let p=0;p<o.length;p+=1)se(n[p]);f=!0}},o(h){for(let p=0;p<n.length;p+=1)ve(n[p]);f=!1},d(h){h&&(F(t),F(c),F(u));for(let p=0;p<n.length;p+=1)n[p].d();l=!1,q(d)}}}function Ht(e,t){let n,i,r=t[19],s=t[20],a;const c=()=>t[9](i,r,s),u=()=>t[9](null,r,s);let f={};return i=new dr({props:f}),c(),{key:e,first:null,c(){n=S("div"),ei(i.$$.fragment),this.first=n},m(l,d){W(l,n,d),sn(i,n,null),a=!0},p(l,d){t=l,(r!==t[19]||s!==t[20])&&(u(),r=t[19],s=t[20],c());const o={};i.$set(o)},i(l){a||(se(i.$$.fragment,l),a=!0)},o(l){ve(i.$$.fragment,l),a=!1},d(l){l&&F(n),u(),ln(i)}}}function pr(e){let t,n,i,r,s,a;function c(o,g){if(!window.showDirectoryPicker)return hr;if(o[0]===0)return gr;if(o[0]===1)return fr}let u=c(e),f=u&&u(e),l=(e[0]===1||e[0]===2)&&Zt(e),d=e[0]===2&&Yt(e);return{c(){t=S("main"),n=S("h1"),n.textContent="Rename images",i=Q(),f&&f.c(),r=Q(),l&&l.c(),s=Q(),d&&d.c(),v(n,"class","svelte-ravmvs")},m(o,g){W(o,t,g),T(t,n),T(t,i),f&&f.m(t,null),T(t,r),l&&l.m(t,null),T(t,s),d&&d.m(t,null),a=!0},p(o,[g]){u===(u=c(o))&&f?f.p(o,g):(f&&f.d(1),f=u&&u(o),f&&(f.c(),f.m(t,r))),o[0]===1||o[0]===2?l?l.p(o,g):(l=Zt(o),l.c(),l.m(t,s)):l&&(l.d(1),l=null),o[0]===2?d?(d.p(o,g),g&1&&se(d,1)):(d=Yt(o),d.c(),se(d,1),d.m(t,null)):d&&(nn(),ve(d,1,1,()=>{d=null}),rn())},i(o){a||(se(d),a=!0)},o(o){ve(d),a=!1},d(o){o&&F(t),f&&f.d(),l&&l.d(),d&&d.d()}}}function mr(e,t,n){const i=[new Se,new Se,new Se,new Se];i.forEach(R=>R.onmessage=d);const r=new Map;let s=0,a=[],c=0,u=0,f=[],l=1;async function d(R){const E=new Blob([R.data.buffer],{type:R.data.type}),y=r.get(this);f.push({handle:y,url:URL.createObjectURL(E),id:l++}),n(3,f),n(2,u++,u),r.set(this,null),u===c?n(0,s=2):await o(this)}async function o(R){let E,y,m;for(;;){if(E=a.findIndex(ce=>ce!==null),E===-1)return;if(m=a[E],y=await m.getFile(),y.type.startsWith("image/"))break;n(1,c--,c),a[E]=null}a[E]=null;const w=await y.arrayBuffer();r.set(R,m),R.postMessage({buffer:w,type:y.type,name:m.name},[w])}async function g(){const R=await window.showDirectoryPicker({mode:"readwrite"});n(0,s=1),n(1,c=0),n(2,u=0),n(3,f=[]),a=[];let E;for await(E of R.values())E.kind==="file"&&(a.push(E),n(1,c++,c));const y=Math.min(c,4);for(let m=0;m<y;m++)await o(i[m])}function h(R){n(3,f=R.detail.items)}let p=[{id:1,instance:null}],_=2;function b(){p.push({id:_++,instance:null}),n(4,p)}let O=!1;async function D(){if(O)return;if(!p.every(E=>E.instance.validate()))return alert("Some groups are missing their name");try{await Promise.all(p.map(E=>E.instance.rename())),O=!1,n(0,s=0)}catch(E){console.error(E),alert("Could not rename: see console")}}function I(R,E,y){nt[R?"unshift":"push"](()=>{E[y].instance=R,n(4,p)})}return[s,c,u,f,p,g,h,b,D,I]}class _r extends cn{constructor(t){super(),an(this,t,mr,pr,jt,{})}}new _r({target:document.getElementById("app")});
