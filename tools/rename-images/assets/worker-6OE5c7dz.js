(function(){"use strict";const e=new OffscreenCanvas(600,600),h=e.getContext("2d");self.onmessage=async o=>{const c=new Blob([o.data.buffer],{type:o.data.type}),t=await createImageBitmap(c);let a=600,s=600;t.width<t.height?s=Math.floor(600/t.width*t.height):a=Math.floor(600/t.height*t.width),e.width=a,e.height=s,h.drawImage(t,0,0,a,s),t.close();const i="image/jpeg",n=await(await e.convertToBlob({quality:.8,type:i})).arrayBuffer();self.postMessage({buffer:n,type:i},[n])}})();
