(function(){"use strict";const e=new OffscreenCanvas(600,600),o=e.getContext("2d");self.onmessage=async i=>{const h=new Blob([i.data.buffer],{type:i.data.type}),t=await createImageBitmap(h);let a=600,s=600;t.width<t.height?s=Math.floor(600/t.width*t.height):a=Math.floor(600/t.height*t.width),e.width=a,e.height=s,o.drawImage(t,0,0,a,s),o.commit(),t.close();const n="image/jpeg",c=await(await e.convertToBlob({quality:.8,type:n})).arrayBuffer();self.postMessage({buffer:c,type:n},[c])}})();
